<!DOCTYPE html>
<html>
<head>
    <title>{{pageTitle}} - Extension Test</title>
</head>
<body>
    {{! This is a mustache comment - should be highlighted differently }}

    <h1>Welcome {{userName}}!</h1>

    <!-- Regular HTML comment -->
    <div class="content">
        {{! Test basic variables }}
        <p>Your email: {{userEmail}}</p>
        <p>Unescaped content: {{&htmlContent}}</p>
        <p>Triple-brace: {{{rawHtml}}}</p>

        {{! Test sections }}
        {{#hasItems}}
        <ul>
            {{#items}}
            <li>{{name}} - {{price}}</li>
            {{/items}}
        </ul>
        {{/hasItems}}

        {{! Test inverted sections }}
        {{^hasItems}}
        <p>No items available</p>
        {{/hasItems}}

        {{! Test MOJO-specific dot-prefix syntax }}
        {{#products}}
        <div class="product">
            <h3>{{.name}}</h3>
            <p>Price: {{.price}}</p>
            <p>Category: {{categoryName}}</p>
        </div>
        {{/products}}

        {{! Test MOJO iterator operator }}
        {{#.categories|iter}}
        <div class="category">
            <h2>{{name}}</h2>
            {{#.items|iter}}
            <span class="item">{{title}}</span>
            {{/.items|iter}}
        </div>
        {{/.categories|iter}}

        {{! Test partials }}
        {{> footer}}
    </div>
</body>
</html>
