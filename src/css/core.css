/**
 * MOJO Framework Core Styles
 * Essential utilities and animations for MOJO framework
 * Version: 2.0.0
 *
 * Note: This file contains only core MOJO utilities not provided by Bootstrap 5.
 * Bootstrap 5 is required as a dependency for base styles.
 */

/* ========================================================================
   MOJO CSS Custom Properties
   ======================================================================== */

:root {
    /* MOJO Framework Colors - Inherit from Bootstrap */
    --mojo-primary: var(--bs-primary);
    --mojo-primary-rgb: var(--bs-primary-rgb);
    --mojo-secondary: var(--bs-secondary);
    --mojo-secondary-rgb: var(--bs-secondary-rgb);
    --mojo-success: var(--bs-success);
    --mojo-success-rgb: var(--bs-success-rgb);
    --mojo-info: var(--bs-info);
    --mojo-info-rgb: var(--bs-info-rgb);
    --mojo-warning: var(--bs-warning);
    --mojo-warning-rgb: var(--bs-warning-rgb);
    --mojo-danger: var(--bs-danger);
    --mojo-danger-rgb: var(--bs-danger-rgb);
    --mojo-light: var(--bs-light);
    --mojo-light-rgb: var(--bs-light-rgb);
    --mojo-dark: var(--bs-dark);
    --mojo-dark-rgb: var(--bs-dark-rgb);

    /* MOJO Semantic Colors - Use Bootstrap's color system */
    --mojo-body-bg: var(--bs-body-bg);
    --mojo-body-color: var(--bs-body-color);
    --mojo-emphasis-color: var(--bs-emphasis-color);
    --mojo-secondary-color: var(--bs-secondary-color);
    --mojo-tertiary-color: var(--bs-tertiary-color);

    /* MOJO Background System */
    --mojo-bg-primary: var(--bs-body-bg);
    --mojo-bg-secondary: var(--bs-secondary-bg);
    --mojo-bg-tertiary: var(--bs-tertiary-bg);

    /* MOJO Border System */
    --mojo-border-color: var(--bs-border-color);
    --mojo-border-color-translucent: var(--bs-border-color-translucent);

    /* MOJO Interactive States */
    --mojo-hover-bg: var(--bs-secondary-bg);
    --mojo-active-bg: var(--bs-primary);
    --mojo-focus-color: var(--bs-primary);
    --mojo-focus-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25);

    /* MOJO Transition defaults */
    --mojo-transition-fast: 0.15s ease-in-out;
    --mojo-transition-base: 0.2s ease-in-out;
    --mojo-transition-slow: 0.3s ease-in-out;

    /* MOJO Border radius - Use Bootstrap system */
    --mojo-border-radius-sm: var(--bs-border-radius-sm);
    --mojo-border-radius: var(--bs-border-radius);
    --mojo-border-radius-lg: var(--bs-border-radius-lg);
    --mojo-border-radius-xl: var(--bs-border-radius-xl);

    /* MOJO Spacing - Use Bootstrap spacing system */
    --mojo-spacer-xs: calc(var(--bs-spacer) * 0.25);
    --mojo-spacer-sm: calc(var(--bs-spacer) * 0.5);
    --mojo-spacer: var(--bs-spacer);
    --mojo-spacer-lg: calc(var(--bs-spacer) * 1.5);
    --mojo-spacer-xl: calc(var(--bs-spacer) * 3);

    /* MOJO Typography - Use Bootstrap font system */
    --mojo-font-sans-serif: var(--bs-font-sans-serif);
    --mojo-font-monospace: var(--bs-font-monospace);

    /* MOJO Box Shadows - Use Bootstrap shadow system */
    --mojo-box-shadow-sm: var(--bs-box-shadow-sm);
    --mojo-box-shadow: var(--bs-box-shadow);
    --mojo-box-shadow-lg: var(--bs-box-shadow-lg);

    /* MOJO Z-index layers - Use Bootstrap z-index system */
    --mojo-zindex-dropdown: var(--bs-zindex-dropdown, 1000);
    --mojo-zindex-sticky: var(--bs-zindex-sticky, 1020);
    --mojo-zindex-fixed: var(--bs-zindex-fixed, 1030);
    --mojo-zindex-modal-backdrop: var(--bs-zindex-modal-backdrop, 1040);
    --mojo-zindex-offcanvas: var(--bs-zindex-offcanvas, 1045);
    --mojo-zindex-modal: var(--bs-zindex-modal, 1050);
    --mojo-zindex-popover: var(--bs-zindex-popover, 1070);
    --mojo-zindex-tooltip: var(--bs-zindex-tooltip, 1080);
}

/* =========================================================
   Primary-driven components (Bootstrap 5.3+)
   Put this AFTER bootstrap.css. Do not scope it.
   Switching themes = only change --bs-primary (and optional subtle vars).
   ========================================================= */

/* Buttons (solid) */
/* =========================================================
   Buttons tied to theme tokens (Bootstrap 5.3+)
   Put AFTER bootstrap.css
   ========================================================= */

/* Primary */
.btn-primary {
    --bs-btn-color: #fff;
    --bs-btn-bg: var(--bs-primary);
    --bs-btn-border-color: var(--bs-primary);
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: color-mix(in srgb, var(--bs-primary) 88%, #000 12%);
    --bs-btn-hover-border-color: color-mix(in srgb, var(--bs-primary) 82%, #000 18%);
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: color-mix(in srgb, var(--bs-primary) 75%, #000 25%);
    --bs-btn-active-border-color: color-mix(in srgb, var(--bs-primary) 72%, #000 28%);
    --bs-btn-focus-shadow-rgb: var(--bs-primary-rgb, 13, 110, 253);
}

/* Success */
.btn-success {
    --bs-btn-color: #fff;
    --bs-btn-bg: var(--bs-success);
    --bs-btn-border-color: var(--bs-success);
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: color-mix(in srgb, var(--bs-success) 88%, #000 12%);
    --bs-btn-hover-border-color: color-mix(in srgb, var(--bs-success) 82%, #000 18%);
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: color-mix(in srgb, var(--bs-success) 75%, #000 25%);
    --bs-btn-active-border-color: color-mix(in srgb, var(--bs-success) 72%, #000 28%);
    --bs-btn-focus-shadow-rgb: var(--bs-success-rgb, 25, 135, 84);
}

/* Danger */
.btn-danger {
    --bs-btn-color: #fff;
    --bs-btn-bg: var(--bs-danger);
    --bs-btn-border-color: var(--bs-danger);
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: color-mix(in srgb, var(--bs-danger) 88%, #000 12%);
    --bs-btn-hover-border-color: color-mix(in srgb, var(--bs-danger) 82%, #000 18%);
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: color-mix(in srgb, var(--bs-danger) 75%, #000 25%);
    --bs-btn-active-border-color: color-mix(in srgb, var(--bs-danger) 72%, #000 28%);
    --bs-btn-focus-shadow-rgb: var(--bs-danger-rgb, 220, 53, 69);
}

/* Warning */
.btn-warning {
    --bs-btn-color: #000;
    --bs-btn-bg: var(--bs-warning);
    --bs-btn-border-color: var(--bs-warning);
    --bs-btn-hover-color: #000;
    --bs-btn-hover-bg: color-mix(in srgb, var(--bs-warning) 88%, #000 12%);
    --bs-btn-hover-border-color: color-mix(in srgb, var(--bs-warning) 82%, #000 18%);
    --bs-btn-active-color: #000;
    --bs-btn-active-bg: color-mix(in srgb, var(--bs-warning) 75%, #000 25%);
    --bs-btn-active-border-color: color-mix(in srgb, var(--bs-warning) 72%, #000 28%);
    --bs-btn-focus-shadow-rgb: var(--bs-warning-rgb, 255, 193, 7);
}

/* Info */
.btn-info {
    --bs-btn-color: #000;
    --bs-btn-bg: var(--bs-info);
    --bs-btn-border-color: var(--bs-info);
    --bs-btn-hover-color: #000;
    --bs-btn-hover-bg: color-mix(in srgb, var(--bs-info) 88%, #000 12%);
    --bs-btn-hover-border-color: color-mix(in srgb, var(--bs-info) 82%, #000 18%);
    --bs-btn-active-color: #000;
    --bs-btn-active-bg: color-mix(in srgb, var(--bs-info) 75%, #000 25%);
    --bs-btn-active-border-color: color-mix(in srgb, var(--bs-info) 72%, #000 28%);
    --bs-btn-focus-shadow-rgb: var(--bs-info-rgb, 13, 202, 240);
}

/* Secondary */
.btn-secondary {
    --bs-btn-color: #fff;
    --bs-btn-bg: var(--bs-secondary);
    --bs-btn-border-color: var(--bs-secondary);
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: color-mix(in srgb, var(--bs-secondary) 88%, #000 12%);
    --bs-btn-hover-border-color: color-mix(in srgb, var(--bs-secondary) 82%, #000 18%);
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: color-mix(in srgb, var(--bs-secondary) 75%, #000 25%);
    --bs-btn-active-border-color: color-mix(in srgb, var(--bs-secondary) 72%, #000 28%);
    --bs-btn-focus-shadow-rgb: var(--bs-secondary-rgb, 108, 117, 125);
}

/* Buttons (outline) */
.btn-outline-primary {
    --bs-btn-color: var(--bs-primary);
    --bs-btn-border-color: var(--bs-primary);
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: var(--bs-primary);
    --bs-btn-hover-border-color: var(--bs-primary);
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: color-mix(in srgb, var(--bs-primary) 75%, #000 25%);
    --bs-btn-active-border-color: color-mix(in srgb, var(--bs-primary) 75%, #000 25%);
    --bs-btn-focus-shadow-rgb: var(--bs-primary-rgb, 13, 110, 253);
}

/* Optional: make the plain .btn use primary by default (comment out if you don't want this) */
/*
.btn {
  --bs-btn-color:              #fff;
  --bs-btn-bg:                 var(--bs-primary);
  --bs-btn-border-color:       var(--bs-primary);
  --bs-btn-hover-color:        #fff;
  --bs-btn-hover-bg:           color-mix(in srgb, var(--bs-primary) 88%, #000 12%);
  --bs-btn-hover-border-color: color-mix(in srgb, var(--bs-primary) 82%, #000 18%);
  --bs-btn-active-color:       #fff;
  --bs-btn-active-bg:          color-mix(in srgb, var(--bs-primary) 75%, #000 25%);
  --bs-btn-active-border-color:color-mix(in srgb, var(--bs-primary) 72%, #000 28%);
  --bs-btn-focus-shadow-rgb:   var(--bs-primary-rgb, 13,110,253);
}
*/

/* Pagination */
.pagination {
    --bs-pagination-color: var(--bs-primary);
    --bs-pagination-hover-color: color-mix(in srgb, var(--bs-primary) 85%, #000 15%);
    --bs-pagination-focus-color: var(--bs-primary);
    --bs-pagination-focus-box-shadow: 0 0 0 0.25rem
        color-mix(in srgb, var(--bs-primary) 25%, transparent);
    --bs-pagination-active-color: #fff;
    --bs-pagination-active-bg: var(--bs-primary);
    --bs-pagination-active-border-color: var(--bs-primary);
    --bs-pagination-disabled-color: var(--bs-secondary, #6c757d);
}

/* Badges that use bg-primary */
.badge.bg-primary {
    --bs-badge-color: #fff;
    --bs-badge-bg: var(--bs-primary);
}

/* Nav pills & tabs */
.nav-pills {
    --bs-nav-pills-link-active-bg: var(--bs-primary);
    --bs-nav-pills-link-active-color: #fff;
}
.nav-tabs {
    --bs-nav-tabs-link-hover-border-color: color-mix(in srgb, var(--bs-primary) 35%, transparent);
    --bs-nav-tabs-link-active-color: var(--bs-primary);
    --bs-nav-tabs-link-active-border-color: var(--bs-primary);
}

/* Alerts (optional, stays tied to primary) */
.alert-primary {
    --bs-alert-color: var(
        --bs-primary-text-emphasis,
        color-mix(in srgb, var(--bs-primary) 35%, #000)
    );
    --bs-alert-bg: var(--bs-primary-bg-subtle, color-mix(in srgb, var(--bs-primary) 10%, #fff));
    --bs-alert-border-color: var(
        --bs-primary-border-subtle,
        color-mix(in srgb, var(--bs-primary) 25%, #fff)
    );
}

/* Links (so the whole site “feels” primary) */
:root {
    --bs-link-color: var(--bs-primary);
    --bs-link-hover-color: color-mix(in srgb, var(--bs-primary) 85%, #000 15%);
}

/* ========================================================================
   MOJO Core Animations
   ======================================================================== */

@keyframes mojo-fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes mojo-slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes mojo-spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

@keyframes mojo-pulse {
    0%,
    100% {
        opacity: 1;
    }
    50% {
        opacity: 0.6;
    }
}

@keyframes mojo-bounce {
    0%,
    100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-3px);
    }
}

/* ========================================================================
   MOJO Animation Utility Classes
   ======================================================================== */

.mojo-fade-in {
    animation: mojo-fadeIn var(--mojo-transition-slow) ease-in-out;
}

.mojo-slide-up {
    animation: mojo-slideUp 0.4s ease-out;
}

.mojo-spin {
    animation: mojo-spin 1s linear infinite;
    display: inline-block;
}

.mojo-pulse {
    animation: mojo-pulse 2s ease-in-out infinite;
}

.mojo-bounce {
    animation: mojo-bounce 0.5s ease-in-out;
}

/* Bootstrap Icons animation enhancement */
.bi-spin {
    animation: mojo-spin 1s linear infinite;
    display: inline-block;
}

/* ========================================================================
   MOJO Utility Classes
   ======================================================================== */

/* Text truncation utilities */
.mojo-text-truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.mojo-text-truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Transition utilities */
.mojo-transition-fast {
    transition: all var(--mojo-transition-fast);
}

.mojo-transition {
    transition: all var(--mojo-transition-base);
}

.mojo-transition-slow {
    transition: all var(--mojo-transition-slow);
}

/* Transform utilities */
.mojo-transform-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.mojo-transform-center-x {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
}

.mojo-transform-center-y {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
}

/* Hover effects */
.mojo-hover-lift:hover {
    transform: translateY(-2px);
    transition: transform var(--mojo-transition-fast);
}

.mojo-hover-shadow:hover {
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    transition: box-shadow var(--mojo-transition-fast);
}

/* Glass morphism effect */
.mojo-glass {
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

[data-bs-theme="dark"] .mojo-glass {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ========================================================================
   MOJO Loading States
   ======================================================================== */

.mojo-loading {
    pointer-events: none;
    opacity: 0.6;
    position: relative;
}

.mojo-loading::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 1rem;
    height: 1rem;
    margin: -0.5rem 0 0 -0.5rem;
    border: 2px solid transparent;
    border-top: 2px solid var(--mojo-primary);
    border-radius: 50%;
    animation: mojo-spin 1s linear infinite;
    z-index: 1;
}

/* ========================================================================
   MOJO Focus States
   ======================================================================== */

.mojo-focus-ring:focus {
    outline: none;
    box-shadow: var(--mojo-focus-shadow);
}

.mojo-focus-ring:focus-visible {
    outline: 2px solid var(--mojo-focus-color);
    outline-offset: 2px;
}

/* Extend Bootstrap font sizes smaller than fs-6 */
.fs-7 {
    font-size: 0.75rem !important; /* ~12px */
}
.fs-8 {
    font-size: 0.6875rem !important; /* ~11px */
}
.fs-9 {
    font-size: 0.625rem !important; /* ~10px */
}
.fs-10 {
    font-size: 0.5625rem !important; /* ~9px */
}

/* ========================================================================
   MOJO Print Utilities
   ======================================================================== */

@media print {
    .mojo-print-hide {
        display: none !important;
    }

    .mojo-print-show {
        display: block !important;
    }

    .mojo-no-print-shadow {
        box-shadow: none !important;
    }

    .mojo-no-print-bg {
        background: white !important;
        color: black !important;
    }
}

/* ========================================================================
   MOJO Accessibility Enhancements
   ======================================================================== */

/* Screen reader only content */
.mojo-sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
}

/* Skip link for accessibility */
.mojo-skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: var(--mojo-emphasis-color);
    color: var(--mojo-body-bg);
    padding: 8px;
    text-decoration: none;
    z-index: var(--mojo-zindex-tooltip);
    border-radius: var(--mojo-border-radius);
}

.mojo-skip-link:focus {
    top: 6px;
}

/* ========================================================================
   MOJO Reduced Motion Support
   ======================================================================== */

@media (prefers-reduced-motion: reduce) {
    .mojo-fade-in,
    .mojo-slide-up,
    .mojo-spin,
    .mojo-pulse,
    .mojo-bounce,
    .bi-spin,
    .mojo-loading::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
    }

    .mojo-transition-fast,
    .mojo-transition,
    .mojo-transition-slow,
    .mojo-hover-lift:hover,
    .mojo-hover-shadow:hover {
        transition: none !important;
    }
}

/* ========================================================================
   MOJO High Contrast Support
   ======================================================================== */

@media (prefers-contrast: high) {
    .mojo-glass {
        background: var(--mojo-body-bg);
        border: 2px solid var(--mojo-border-color);
        backdrop-filter: none;
    }

    .mojo-focus-ring:focus,
    .mojo-focus-ring:focus-visible {
        outline: 3px solid var(--mojo-focus-color);
        outline-offset: 2px;
        box-shadow: 0 0 0 0.5rem rgba(var(--mojo-primary-rgb), 0.5);
    }
}

/* ========================================================================
   MOJO Framework Initialization
   ======================================================================== */

/* Ensure MOJO framework is ready */
.mojo-app {
    min-height: 100vh;
    font-family: var(--mojo-font-sans-serif);
    background-color: var(--mojo-body-bg);
    color: var(--mojo-body-color);
}

.mojo-app.mojo-loading {
    opacity: 0;
}

.mojo-app.mojo-ready {
    opacity: 1;
    transition: opacity var(--mojo-transition-slow);
}

/* MOJO component base class */
.mojo-component {
    position: relative;
}

.mojo-component.mojo-disabled {
    pointer-events: none;
    opacity: 0.6;
}

/* ========================================================================
   MOJO Debug Helpers (Development Only)
   ======================================================================== */

.mojo-debug * {
    outline: 1px solid red !important;
}

.mojo-debug *:hover {
    background: rgba(255, 0, 0, 0.1) !important;
}

/* Hide debug helpers in production */
@media (min-width: 1px) {
    .mojo-debug {
        display: none;
    }
}

/* Show debug helpers when explicitly enabled */
.mojo-debug-enabled .mojo-debug {
    display: block !important;
}
